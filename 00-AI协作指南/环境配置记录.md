# 环境配置记录

> 记录学习环境的配置信息，方便后续查阅和恢复

---

## 硬件环境

| 项目 | 配置 |
|------|------|
| 操作系统 | Windows 10/11 |
| CPU | - |
| 内存 | 8GB（WSL分配） |
| 显卡 | NVIDIA GeForce RTX 5060 Laptop GPU |
| 集成显卡 | Intel UHD Graphics |

---

## WSL2 配置

### 基本信息

| 项目 | 值 |
|------|-----|
| WSL 版本 | WSL2 |
| Linux 发行版 | Ubuntu 22.04 LTS |
| 用户名 | chenlei |
| 密码 | ⚠️ 见下方安全说明 |

### WSL 配置文件

**位置**：`C:\Users\Lenovo\.wslconfig`

```ini
[wsl2]
memory=8GB
processors=6
swap=2GB
swapFile=C:\\Users\\Lenovo\\swap.vhdx
localhostForwarding=true
```

### 常用命令

```powershell
# 启动 WSL
wsl

# 关闭 WSL
wsl --shutdown

# 查看已安装的发行版
wsl --list --verbose
```

---

## 密码存储（安全说明）

⚠️ **重要**：密码不应明文存储在会上传到 GitHub 的文件中。

**建议的密码管理方式**：
1. 使用密码管理器（如 Bitwarden、1Password）
2. 存储在本地加密文件中
3. 记在私人笔记本上

**本地备忘**（请在上传 GitHub 前删除此部分）：
- WSL Ubuntu 密码：`200229`

---

## 软件环境

### Windows 端

| 软件 | 版本 | 状态 | 用途 |
|------|------|------|------|
| Docker Desktop | - | 已安装 | 容器化（备用） |
| Mission Planner | latest | ✅ 已安装 | 地面站软件 |
| Git | - | 待确认 | 版本控制 |

### WSL Ubuntu 端

| 软件 | 版本 | 状态 | 用途 |
|------|------|------|------|
| NVIDIA 驱动 | 573.24 | ✅ 已验证 | GPU 支持 |
| CUDA | 12.8 | ✅ 已验证 | GPU 计算 |
| ArduPilot | master | ✅ 已安装 | 飞控源码 |
| SITL | - | ✅ 编译完成 | 软件仿真 |
| MAVProxy | - | ✅ 已安装 | 地面站/代理 |
| Gazebo | - | 待安装 | 3D 仿真 |

### GPU 信息

```
GPU: NVIDIA GeForce RTX 5060 Laptop GPU
驱动版本: 573.24
CUDA 版本: 12.8
验证命令: nvidia-smi
```

---

## 网络配置

| 项目 | 说明 |
|------|------|
| 代理 | 使用科学上网 |
| WSL 网络模式 | NAT（默认） |
| 代理警告 | `localhost 代理未镜像到 WSL` - 可忽略 |

---

## 目录结构

### Windows 端
```
E:\A_MY_Projects\飞控参数学习包\
├── ardupilot-master\     # ArduPilot 源码（ZIP解压，用于查看）
├── docs\                 # 学习文档
└── parameters_buwangzhen\ # 参数文件
```

### WSL Ubuntu 端
```
/home/chenlei/
└── ardupilot/            # ArduPilot 源码（git clone，用于编译仿真）
    └── build/sitl/bin/arduplane  # 编译产物
```

### 路径对照

| 用途 | Windows 路径 | WSL 路径 |
|------|-------------|----------|
| 学习文档 | `E:\...\docs\` | `/mnt/e/.../docs/` |
| 源码查看 | `E:\...\ardupilot-master\` | `/mnt/e/.../ardupilot-master/` |
| 编译仿真 | - | `/home/chenlei/ardupilot/` |

---

## 配置进度

- [x] WSL2 安装
- [x] Ubuntu 22.04 安装
- [x] 用户配置（chenlei）
- [x] GPU 验证（nvidia-smi）✅ RTX 5060 可用
- [x] systemd 启用 ✅
- [x] ArduPilot 环境安装 ✅ arm-none-eabi-gcc 10.2.1
- [x] ArduPlane SITL 编译成功 ✅ (1m43s)
- [x] SITL 仿真运行成功 ✅ (三窗口正常)
- [x] Mission Planner 安装并连接 ✅
- [ ] Gazebo 安装（后续）

---

## 已知问题

| 问题 | 状态 | 说明 |
|------|------|------|
| localhost 代理警告 | 可忽略 | Windows 代理配置导致，不影响使用 |
| systemd 用户会话 | ✅ 已解决 | 已启用 systemd，`ps -p 1` 验证通过 |

---

## 更新日志

| 日期 | 内容 |
|------|------|
| 2026-01-15 | 初始配置：WSL2 + Ubuntu 22.04 |
| 2026-01-15 | GPU 验证通过：RTX 5060, 驱动 573.24, CUDA 12.8 |
| 2026-01-15 | systemd 启用成功 |
| 2026-01-16 | ArduPilot 环境安装、SITL 编译成功 |
| 2026-01-16 | Mission Planner 安装并连接 SITL 成功 |

---

*最后更新：2026-01-15*
