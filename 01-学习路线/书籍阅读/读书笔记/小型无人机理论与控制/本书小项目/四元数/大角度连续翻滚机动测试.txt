1. 测试背景
这次测试让飞机做持续的 360° 滚转机动，姿态变化非常剧烈。这种场景下，欧拉角很容易陷入 “万向锁”，而四元数的优势就能充分体现出来。
2. 图表解读
📈 欧拉角（Euler Angles）
这张图展示了滚转角（φ，蓝色）、俯仰角（θ，橙色）和偏航角（ψ，绿色）随时间的变化。
特点：三个角度都在 ±150° 的范围内剧烈振荡，曲线非常 “杂乱”。
原因：飞机在做连续的 360° 滚转，欧拉角在描述这种极端姿态时会出现数值突变和不连续，这就是 “万向锁” 问题的直观表现。
📈 四元数分量（Quaternion Components）
这张图展示了四元数的四个分量（e0, e1, e2, e3）随时间的变化。
特点：四个分量都在 ±1.0 的范围内平滑、连续地振荡，没有出现欧拉角那样的突变。
原因：四元数用四维向量来表示三维姿态，不存在 “万向锁” 问题，因此在描述连续滚转等极端机动时，数值变化是平滑且物理意义明确的。
📊 四元数归一化误差（Quaternion Normalization Error）
四元数的一个核心数学性质是它的模长必须恒为 1。这张图展示了计算出的四元数模长与 1 的误差。
特点：误差值稳定在 10⁻¹⁶的量级，这是计算机浮点数运算的精度极限，几乎可以忽略不计。
说明：这表明四元数的数值计算非常稳定，没有出现数值漂移，保证了姿态表示的准确性。
📍 三维轨迹（3D Trajectory）
这是飞机在惯性坐标系中的三维飞行路径。
特点：飞机在持续滚转的同时，整体向北飞行并缓慢下降。
说明：这条平滑的轨迹也印证了四元数在计算飞机位置时的稳定性，没有因为姿态表示的问题而导致轨迹出现异常。
3. 核心结论
欧拉角的局限性：在大角度连续滚转等极端机动中，欧拉角会出现 “万向锁” 问题，导致姿态表示不连续、数值突变。
四元数的优势：四元数能够平滑、连续地表示任何姿态，没有 “万向锁” 问题，非常适合描述飞机的极端机动。
数值稳定性：四元数的归一化误差在计算机精度极限内，保证了姿态计算的长期稳定性。
这次测试完美展示了四元数在处理极端姿态时的优越性，也解释了为什么现代飞控系统普遍采用四元数来表示飞机姿态。